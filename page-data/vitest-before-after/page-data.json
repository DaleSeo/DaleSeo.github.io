{
    "componentChunkName": "component---src-templates-detail-template-jsx",
    "path": "/vitest-before-after/",
    "result": {"pageContext":{"previous":{"fields":{"slug":"/bun-v1.1/"},"frontmatter":{"title":"ğŸ¥Ÿ Bun v1.1 ì¶œì‹œ ì†Œì‹"}},"node":{"html":"<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden; \" > <iframe src=\"https://www.youtube.com/embed/0fV30sUDAXE?si=zAUwsv28SvqEFCkc\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy=\"strict-origin-when-cross-origin\" allowfullscreen=\"\" style=\" position: absolute; top: 0; left: 0; width: 100%; height: 100%; \"></iframe> </div>\n<p>í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ë‹¤ ë³´ë©´ ì—¬ëŸ¬ í…ŒìŠ¤íŠ¸ì— ê±¸ì³ì„œ ë°˜ë³µë˜ëŠ” ë¡œì§ì´ ìƒê¸°ê¸° ë§ˆë ¨ì¸ë°ìš”.\nì´ëŸ¬í•œ ê³µí†µ ë¡œì§ì„ ëª¨ë“  í…ŒìŠ¤íŠ¸ë§ˆë‹¤ ì¤‘ë³µí•´ì„œ ì‘ì„±í•˜ë©´ ê°œë°œ ìƒì‚°ì„±ì´ ë–¨ì´ì§€ê³  ìœ ì§€ë³´ìˆ˜ê°€ í˜ë“¤ì–´ì§‘ë‹ˆë‹¤.</p>\n<p>ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” Vitestë¥¼ ì´ìš©í•´ì„œ í…ŒìŠ¤íŠ¸ ì „ì´ë‚˜ í›„ì— í•­ìƒ ì‹¤í–‰ë˜ì•¼ í•˜ëŠ” ë¡œì§ì„ íš¨ê³¼ì ìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<h2 id=\"í…ŒìŠ¤íŠ¸-ëŒ€ìƒ-ì½”ë“œ\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EB%8C%80%EC%83%81-%EC%BD%94%EB%93%9C\" aria-label=\"í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì½”ë“œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì½”ë“œ</h2>\n<p>ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œë‹¤ëŠ” ê°€ì • í•˜ì— ì˜ˆì œ ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.\nìµœëŒ€í•œ ê°„ë‹¨í•œ ì˜ˆì œë¥¼ ìœ„í•´ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë°°ì—´ë¡œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ëŒ€ì‹ í•˜ë„ë¡ í• ê»˜ìš”.</p>\n<div class=\"gatsby-code-title\">data.ts</div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">User</span> <span class=\"token punctuation\">{</span>\n  no<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  email<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> users<span class=\"token operator\">:</span> User<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì‚¬ìš©ì ë°ì´í„°ë¥¼ ì¡°íšŒ/ìƒì„±/ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ”ë° <code>UserService</code> í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.\në‚´ë¶€ì ìœ¼ë¡œ <code>users</code> ë°°ì—´ì„ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-code-title\">userService.ts</div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">,</span> users <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./data'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserService</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">findAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> users<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">findOne</span><span class=\"token punctuation\">(</span>no<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> users<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>user <span class=\"token operator\">=></span> user<span class=\"token punctuation\">.</span>no <span class=\"token operator\">===</span> no<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">create</span><span class=\"token punctuation\">(</span>user<span class=\"token operator\">:</span> User<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    users<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">delete</span><span class=\"token punctuation\">(</span>no<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    users<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>\n      users<span class=\"token punctuation\">.</span><span class=\"token function\">findIndex</span><span class=\"token punctuation\">(</span>user <span class=\"token operator\">=></span> user<span class=\"token punctuation\">.</span>no <span class=\"token operator\">===</span> no<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token number\">1</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>ìë°”ìŠ¤í¬ë¦½íŠ¸ ë°°ì—´ì— ì›ì†Œë¥¼ ì¶”ê°€í•˜ê³  ì œê±°í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œëŠ” ì•„ë˜ ê´€ë ¨ í¬ìŠ¤íŒ…ì„ ì°¸ê³  ë°”ëë‹ˆë‹¤.</p>\n<ul>\n<li><a href=\"/js-array-push-unshift/\">ìë°”ìŠ¤í¬ë¦½íŠ¸ ë°°ì—´ì— ì›ì†Œ ì¶”ê°€í•˜ê¸°: push()ì™€ unshift() ë©”ì„œë“œ</a></li>\n<li><a href=\"/js-array-pop-shift/\">ìë°”ìŠ¤í¬ë¦½íŠ¸ ë°°ì—´ì˜ ì›ì†Œ ì œê±°í•˜ê¸°: pop()ì™€ shift() ë©”ì„œë“œ</a></li>\n</ul>\n</blockquote>\n<h2 id=\"userservicefindall-í…ŒìŠ¤íŠ¸\" style=\"position:relative;\"><a href=\"#userservicefindall-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"userservicefindall í…ŒìŠ¤íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>UserService.findAll() í…ŒìŠ¤íŠ¸</h2>\n<p>ë¨¼ì € <code>UserService</code> í´ë˜ìŠ¤ì˜ <code>findAll()</code> ë©”ì„œë“œì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¶€í„° ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.\n<code>users</code> ë°°ì—´ì´ ë¹„ì–´ìˆìœ¼ë¯€ë¡œ ì„¸ ê±´ì˜ ë°ì´í„°ë¥¼ ì¶”ê°€ í›„ì— <code>findAll()</code>ì„ í˜¸ì¶œí•©ë‹ˆë‹¤.\nê·¸ ë‹¤ìŒ, ë¦¬í„´ ê²°ê³¼ì˜ ê¸¸ì´ê°€ <code>3</code>ì¸ì§€, ê·¸ë¦¬ê³  ê° ì‚¬ìš©ì ë°ì´í„°ë¥¼ ì •í™•íˆ ë‹´ê³  ìˆëŠ”ì§€ ê²€ì¦í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-code-title\">userService.test.ts</div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> expect<span class=\"token punctuation\">,</span> test <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vitest\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> users <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./data\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> UserService <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./userService\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"findAll()\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> userService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">UserService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  users<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">{</span> no<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">\"user1@test.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> no<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">\"user2@test.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> no<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">\"user3@test.com\"</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> foundUsers <span class=\"token operator\">=</span> userService<span class=\"token punctuation\">.</span><span class=\"token function\">findAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>foundUsers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveLength</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>foundUsers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toContainEqual</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> no<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">\"user1@test.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>foundUsers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toContainEqual</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> no<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">\"user2@test.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>foundUsers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toContainEqual</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> no<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">\"user3@test.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•´ë³´ë©´ ì˜ í†µê³¼í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ npx vitest run src/userService.test.ts\n\n RUN  v1.4.0 /home/projects/vitest-before-after\n\n âœ“ src/userService.test.ts <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n   âœ“ findAll<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n Test Files  <span class=\"token number\">1</span> passed <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n      Tests  <span class=\"token number\">1</span> passed <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n   Start at  <span class=\"token number\">12</span>:45:37\n   Duration  <span class=\"token number\">1</span>.47s <span class=\"token punctuation\">(</span>transform 73ms, setup 0ms, collect 59ms, tests 1ms, environment 0ms, prepare 177ms<span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"userservicecreate-í…ŒìŠ¤íŠ¸\" style=\"position:relative;\"><a href=\"#userservicecreate-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"userservicecreate í…ŒìŠ¤íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>UserService.create() í…ŒìŠ¤íŠ¸</h2>\n<p>ë‹¤ìŒìœ¼ë¡œ <code>UserService</code> í´ë˜ìŠ¤ì˜ <code>create()</code> ë©”ì„œë“œì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.\n<code>create()</code> ë©”ì„œë“œì— ì‚¬ìš©ì í•œ ê±´ì˜ ë°ì´í„°ë¥¼ ì¸ìë¡œ ë„˜ê²¨ì„œ í˜¸ì¶œí•©ë‹ˆë‹¤.\nê·¸ ë‹¤ìŒ, <code>users</code> ë°°ì—´ì´ ë°ì´í„°ë¥¼ ì´ í•œ ê±´ì„ ì €ì¥í•˜ê³  ìˆê³ , ì •í™•í•œ ì‚¬ìš©ì ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ìˆëŠ”ì§€ ê²€ì¦í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-code-title\">userService.test.ts</div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> expect<span class=\"token punctuation\">,</span> test <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vitest'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> users <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./data'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> UserService <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./userService'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'create()'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> userService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">UserService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> user <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> no<span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">'user4@test.com'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  userService<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>users<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveLength</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>users<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toContainEqual</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>í•˜ì§€ë§Œ ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•´ë³´ë©´ ì‹¤ì œ <code>users</code> ë°°ì—´ì˜ ê¸¸ì´ê°€ <code>4</code>ì´ì—ˆê¸° ë•Œë¬¸ì— ì‹¤íŒ¨í•¨ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ npx vitest run src/userService.test.ts\n\n RUN  v1.4.0 /home/projects/vitest-before-after\n\n â¯ src/userService.test.ts <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n   âœ“ findAll<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n   Ã— create<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\nâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯ Failed Tests <span class=\"token number\">1</span> â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯\n\n FAIL  src/userService.test.ts <span class=\"token operator\">></span> create<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nAssertionError: expected <span class=\"token punctuation\">[</span> â€¦<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span> to have a length of <span class=\"token number\">1</span> but got <span class=\"token number\">4</span>\n\n- Expected\n+ Received\n\n- <span class=\"token number\">1</span>\n+ <span class=\"token number\">4</span>\n\n â¯ <span class=\"token builtin class-name\">eval</span> src/userService.test.ts:43:17\n     <span class=\"token number\">41</span><span class=\"token operator\">|</span>   userService.create<span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token number\">42</span><span class=\"token operator\">|</span>\n     <span class=\"token number\">43</span><span class=\"token operator\">|</span>   expect<span class=\"token punctuation\">(</span>users<span class=\"token punctuation\">)</span>.toHaveLength<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token operator\">|</span>                 ^\n     <span class=\"token number\">44</span><span class=\"token operator\">|</span>   expect<span class=\"token punctuation\">(</span>users<span class=\"token punctuation\">)</span>.toContainEqual<span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token number\">45</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯<span class=\"token punctuation\">[</span><span class=\"token number\">1</span>/1<span class=\"token punctuation\">]</span>â¯\n\n Test Files  <span class=\"token number\">1</span> failed <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n      Tests  <span class=\"token number\">1</span> failed <span class=\"token operator\">|</span> <span class=\"token number\">1</span> passed <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n   Start at  <span class=\"token number\">12</span>:51:10\n   Duration  <span class=\"token number\">1</span>.25s <span class=\"token punctuation\">(</span>transform 72ms, setup 0ms, collect 63ms, tests 6ms, environment 0ms, prepare 120ms<span class=\"token punctuation\">)</span></code></pre></div>\n<p>ì™œ ì´ëŸ° ìƒí™©ì´ ë°œìƒí•˜ëŠ” ê²ƒì¼ê¹Œìš”? ê·¸ ì´ìœ ëŠ” ì²« ë²ˆì§¸ í…ŒìŠ¤íŠ¸ì—ì„œ <code>users</code> ë°°ì—´ì— ì¶”ê°€ë˜ì—ˆë˜ 3ê±´ì˜ ë°ì´í„°ê°€ ë‘ ë²ˆì§¸ í…ŒìŠ¤íŠ¸ì—ë„ ì˜í–¥ì„ ì£¼ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>\n<p>ì›ë˜ ì´ìƒì ì¸ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ì´ëŸ¬í•œ í…ŒìŠ¤íŠ¸ ê°„ì— ê°„ì„­ì´ ì–¼ì–´ë‚˜ë©´ ì•ˆ ë˜ê±°ë“ ìš”?\në…ë¦½ì„±ì´ ë³´ì¥ë˜ëŠ” ê²ƒì´ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.</p>\n<h2 id=\"aftereachë¡œ-ë°ì´í„°-ì •ë¦¬í•˜ê¸°\" style=\"position:relative;\"><a href=\"#aftereach%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%95%EB%A6%AC%ED%95%98%EA%B8%B0\" aria-label=\"aftereachë¡œ ë°ì´í„° ì •ë¦¬í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>afterEach()ë¡œ ë°ì´í„° ì •ë¦¬í•˜ê¸°</h2>\n<p>ì„œë¡œ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ê°„ì— ê°„ì„­ì´ ì¼ì–´ë‚˜ì§€ ì•Šê²Œ í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œìš”?\nê° í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰ í›„ì— í…ŒìŠ¤íŠ¸ ìš© ë°ì´í„°ë¥¼ ì •ë¦¬í•´ì£¼ëŠ” ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>\n<p>ì´ëŸ´ ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ê°€ Vitestì˜ <code>afterEach()</code>ì¸ë°ìš”.\nê°ê°ì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‹¤í–‰í•œ í›„ì— ê³µí†µì ìœ¼ë¡œ ìˆ˜í–‰í•´ì•¼í•˜ëŠ” ë¡œì§ì´ ìˆë‹¤ë©´ <code>afterEach()</code> í•¨ìˆ˜ì— ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤.</p>\n<p><code>afterEach()</code> í•¨ìˆ˜ë¥¼ í†µí•´ì„œ <code>users</code> ë°°ì—´ì˜ ëª¨ë“  ì›ì†Œë¥¼ ì‚­ì œí•´ì£¼ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-code-title\">userService.test.ts</div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> afterEach<span class=\"token punctuation\">,</span> expect<span class=\"token punctuation\">,</span> test <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vitest\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> users <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./data\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">afterEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  users<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ê·¸ëŸ¬ë©´ ì²« ë²ˆì§¸ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì‹¤í–‰ëœ ì§í›„ì— ë°°ì—´ì´ ë¹„ì›Œì ¸ì„œ, ë‘ ë²ˆì§¸ í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë  ë•ŒëŠ” ë¹ˆ ë°°ì—´ì„ ìƒëŒ€ë¡œ ê²€ì¦ì´ ì´ë¤„ì§‘ë‹ˆë‹¤.\në”°ë¼ì„œ í…ŒìŠ¤íŠ¸ ê°„ì— ë°ì´í„°ë¡œ ì¸í•œ ì˜í–¥ì„ ìµœì†Œí™”ë˜ëŠ” ê²ƒì´ì§€ìš”.</p>\n<blockquote>\n<p>ìë°”ìŠ¤í¬ë¦½íŠ¸ ë°°ì—´ì˜ splice() ë©”ì„œë“œì— ëŒ€í•œ ì¢€ ë” ìì„¸í•œ ì„¤ëª…ì€ <a href=\"/js-array-slice-splice/\">ê´€ë ¨ í¬ìŠ¤íŒ…</a>ë¥¼ ì°¸ê³ ë°”ëë‹ˆë‹¤.</p>\n</blockquote>\n<h2 id=\"userservicedelete-í…ŒìŠ¤íŠ¸\" style=\"position:relative;\"><a href=\"#userservicedelete-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"userservicedelete í…ŒìŠ¤íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>UserService.delete() í…ŒìŠ¤íŠ¸</h2>\n<p>ë‹¤ìŒìœ¼ë¡œ <code>UserService</code> í´ë˜ìŠ¤ì˜ <code>delete()</code> ë©”ì„œë“œì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.\n<code>findAll()</code> í•¨ìˆ˜ì—ì„œ í–ˆë˜ ê²ƒê³¼ ë¹„ìŠ·í•˜ê²Œ <code>users</code> ë°°ì—´ì— ì´ˆê¸° ë°ì´í„°ë¥¼ ì ì¬í•´ì£¼ê³ , í•œ ê±´ì˜ ì‚¬ìš©ì ë°ì´í„°ê°€ ì‚­ì œë˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-code-title\">userService.test.ts</div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"delete()\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> userService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">UserService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  users<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">{</span> no<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">\"user1@test.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> no<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">\"user2@test.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> no<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">\"user3@test.com\"</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> no <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n  userService<span class=\"token punctuation\">.</span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span>no<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>users<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveLength</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>users<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>not<span class=\"token punctuation\">.</span><span class=\"token function\">toContainEqual</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> no<span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">\"user3@test.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ê·¸ëŸ°ë° ì—¬ê¸°ì„œ <code>users</code> ë°°ì—´ì— ì´ˆê¸° ë°ì´í„°ë¥¼ ì ì¬í•˜ê¸° ìœ„í•œ ì½”ë“œê°€ <code>findAll()</code> í•¨ìˆ˜ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ì™€ <code>delete()</code> í•¨ìˆ˜ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ì— ì¤‘ë³µë˜ëŠ” ë¶€ë¶„ì´ ì•„ì‰¬ì›Œìš”. ğŸ˜¢\në‘ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ê°„ì— ì¤‘ë³µ ì½”ë“œë¥¼ ì œê±°í•  ì¢‹ì€ ë°©ë²•ì´ ì—†ì„ê¹Œìš”?</p>\n<h2 id=\"beforeeachë¡œ-ì¤‘ë³µ-ì½”ë“œ-ì œê±°í•˜ê¸°\" style=\"position:relative;\"><a href=\"#beforeeach%EB%A1%9C-%EC%A4%91%EB%B3%B5-%EC%BD%94%EB%93%9C-%EC%A0%9C%EA%B1%B0%ED%95%98%EA%B8%B0\" aria-label=\"beforeeachë¡œ ì¤‘ë³µ ì½”ë“œ ì œê±°í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>beforeEach()ë¡œ ì¤‘ë³µ ì½”ë“œ ì œê±°í•˜ê¸°</h2>\n<p>Vitestì˜ <code>beforeEach()</code> í•¨ìˆ˜ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ í…ŒìŠ¤íŠ¸ì— ê±¸ì³ì„œ ì¤‘ë³µëœ ì½”ë“œë¥¼ ì‰½ê²Œ ì œê±°í•  ìˆ˜ ìˆëŠ”ë°ìš”.\n<code>beforeEach()</code> í•¨ìˆ˜ì˜ ì¸ìë¡œ ë„˜ì–´ê°„ ì½”ë“œëŠ” ê°ê°ì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì‹¤í–‰ë˜ê¸° ì „ì— ë§¤ë²ˆ ì‹¤í–‰ë©ë‹ˆë‹¤.</p>\n<p>ë³¸ ì˜ˆì œì—ì„œëŠ” <code>users</code> ë°°ì—´ì— í…ŒìŠ¤íŠ¸ ìš© ë°ì´í„°ë¥¼ ì ì¬í•˜ëŠ” ì½”ë“œë¥¼ <code>beforeEach()</code> í•¨ìˆ˜ë¡œ ì˜®ê¸¸ ìˆ˜ ìˆê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-code-title\">userService.test.ts</div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> afterEach<span class=\"token punctuation\">,</span> beforeEach<span class=\"token punctuation\">,</span> expect<span class=\"token punctuation\">,</span> test <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vitest\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> users <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./data\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">beforeEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  users<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">{</span> no<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">\"user1@test.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> no<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">\"user2@test.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> no<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">\"user3@test.com\"</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì°¸ê³ ë¡œ ì´ë ‡ê²Œ í…ŒìŠ¤íŠ¸ ì „ì— ì ì¬í•˜ëŠ” ë°ì´í„°ë¥¼ seed dataë¼ê³  í•˜ë©°, í…ŒìŠ¤íŠ¸ ìš© ë°ì´í„° ì ì¬ ì‘ì—…ì„ seedingì´ë¼ê³ ë„ í•©ë‹ˆë‹¤.</p>\n<p>ëª¨ë“  í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ìì„¸íˆ ê´€ì°°í•´ë³´ì‹œë©´ <code>UserService</code> í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë„ ë§¤ë²ˆ ìƒì„±í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në”°ë¼ì„œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ì½”ë“œë„ ì›í•œë‹¤ë©´ <code>beforeEach()</code> í•¨ìˆ˜ë¡œ ì˜®ê¸¸ ìˆ˜ ìˆê² ì£ ?</p>\n<div class=\"gatsby-code-title\">userService.test.ts</div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> afterEach<span class=\"token punctuation\">,</span> beforeEach<span class=\"token punctuation\">,</span> expect<span class=\"token punctuation\">,</span> test <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vitest\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> users <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./data\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> UserService <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./userService'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> userService<span class=\"token operator\">:</span> UserService<span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">beforeEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  userService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">UserService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  users<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">{</span> no<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">\"user1@test.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> no<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">\"user2@test.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> no<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">\"user3@test.com\"</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì´ë ‡ê²Œ ëª¨ë“  ì¤‘ë³µ ì½”ë“œë¥¼ <code>beforeEach()</code> í•¨ìˆ˜ë¡œ ì˜®ê²¨ì£¼ë©´, <code>UserService.findAll()</code>ê³¼ <code>UserService.delete()</code> í•¨ìˆ˜ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ê°„ê²°í•´ì§‘ë‹ˆë‹¤.</p>\n<div class=\"gatsby-code-title\">userService.test.ts</div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"findAll()\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> foundUsers <span class=\"token operator\">=</span> userService<span class=\"token punctuation\">.</span><span class=\"token function\">findAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>foundUsers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveLength</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>foundUsers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toContainEqual</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> no<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">\"user1@test.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>foundUsers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toContainEqual</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> no<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">\"user2@test.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>foundUsers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toContainEqual</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> no<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">\"user3@test.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"delete()\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> no <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n  userService<span class=\"token punctuation\">.</span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span>no<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>users<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveLength</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>users<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>not<span class=\"token punctuation\">.</span><span class=\"token function\">toContainEqual</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> no<span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">\"user3@test.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"beforeall-afterall\" style=\"position:relative;\"><a href=\"#beforeall-afterall\" aria-label=\"beforeall afterall permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>beforeAll(), afterAll()</h2>\n<p>VitestëŠ” <code>beforeEach()</code>, <code>afterEach()</code>ì™€ ë§¤ìš° ìœ ì‚¬í•˜ê²Œ ìƒê¸´ <code>beforeAll()</code>, <code>afterAll()</code> í•¨ìˆ˜ë„ ì œê³µí•˜ëŠ”ë°ìš”.\ní•¨ìˆ˜ ì´ë¦„ì— ìœ ì¶”í•  ìˆ˜ ìˆë“¯ì´ <code>beforeAll()</code>, <code>afterAll()</code>ì€ í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ ë‚´ì˜ ëª¨ë“  í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì‹¤í–‰ë˜ê¸° ì „ê³¼ í›„ì— ë”± í•œ ë²ˆì”©ë§Œ í˜¸ì¶œë©ë‹ˆë‹¤.</p>\n<p>ëŒ€í‘œì ì¸ ì‚¬ìš© ì‚¬ë¡€ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ì†í•  í•„ìš”í•œ ì—°ê²°(Connection) ê°ì²´ë¥¼ ìƒê°í•´ë³¼ ìˆ˜ ìˆëŠ”ë°ìš”.\ní…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ë§ˆë‹¤ ë§¤ë²ˆ ì—°ê²°ì„ ë§ºê³  ëŠëŠ” ê²ƒ ë³´ë‹¤ëŠ” ë§¨ ì²˜ìŒì— í•œ ë²ˆ ì—°ê²°ì„ ë§ºì–´ ë†“ê³  ì—¬ëŸ¬ í•¨ìˆ˜ì— ê±¸ì³ì„œ ì‚¬ìš© í•œ í›„ ë§ˆì§€ë§‰ì— ì—°ê²°ì„ ëŠëŠ” ê²ƒì´ íš¨ìœ¨ì ì¼ ê²ƒì…ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> afterAll<span class=\"token punctuation\">,</span> beforeAll <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vitest\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> connection<span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">beforeAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  connection <span class=\"token operator\">=</span> <span class=\"token function\">openConnection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> host<span class=\"token operator\">:</span> <span class=\"token string\">\"...\"</span><span class=\"token punctuation\">,</span> port<span class=\"token operator\">:</span> <span class=\"token string\">\"...\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">afterAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  connection<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"ì „ì²´-ì½”ë“œ\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EC%B2%B4-%EC%BD%94%EB%93%9C\" aria-label=\"ì „ì²´ ì½”ë“œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì „ì²´ ì½”ë“œ</h2>\n<p>ì‹¤ìŠµ í”„ë¡œì íŠ¸ì—ì„œ ì‘ì„±í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì•„ë˜ì—ì„œ ì§ì ‘ í™•ì¸í•˜ê³  ì‹¤í–‰í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<iframe src=\"https://stackblitz.com/edit/vitest-before-after?ctl=1&embed=1&file=src%2FuserService.test.ts\"\nstyle=\"width:100%; height:800px; border:0; border-radius: 4px; overflow:hidden;\"></iframe>\n<h2 id=\"ë§ˆì¹˜ë©´ì„œ\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B4%EC%84%9C\" aria-label=\"ë§ˆì¹˜ë©´ì„œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆì¹˜ë©´ì„œ</h2>\n<p>ì§€ê¸ˆê¹Œì§€ Vitestì—ì„œ ì œê³µí•˜ëŠ” <code>beforeEach()</code>, <code>afterEach()</code> í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ìš© ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ì ì¬í•˜ê³  ì •ë¦¬í•˜ëŠ”ì§€ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³  <code>beforeAll()</code>, <code>afterAll()</code> í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ê³µí†µ ì½”ë“œë¥¼ ëª¨ë“  í…ŒìŠ¤íŠ¸ì˜ ë§¨ ì•ê³¼ ë’¤ì—ì„œ ë”± í•œ ë²ˆ ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œë„ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤.</p>\n<blockquote>\n<p>Vitestì— ì—°ê´€ëœ í¬ìŠ¤íŒ…ì€ <a href=\"/?tag=Vitest\">Vitest íƒœê·¸</a>ë¥¼ í†µí•´ì„œ ì‰½ê²Œ ë§Œë‚˜ë³´ì„¸ìš”!</p>\n</blockquote>","timeToRead":7,"fields":{"slug":"/vitest-before-after/","tags":["JavaScript","library","Vitest","testing"]},"frontmatter":{"title":"Vitest í…ŒìŠ¤íŠ¸ ì „/í›„ ì²˜ë¦¬í•˜ê¸°","date":"Apr 1, 2024"}},"next":{"fields":{"slug":"/vitest-describe/"},"frontmatter":{"title":"Vitest í…ŒìŠ¤íŠ¸ ê·¸ë£¹í™” ë° ì‹¤í–‰ ì œì–´í•˜ê¸°"}}}},
    "staticQueryHashes": ["2168229929","2362167539","3056348342"]}