{"componentChunkName":"component---src-templates-detail-template-jsx","path":"/nestjs-health/","result":{"pageContext":{"previous":null,"node":{"html":"<p>λ§μ΄ν¬λ΅μ„λΉ„μ¤(microservices) μ•„ν‚¤ν…μ²μ—μ„λ” λ¨λ“  μ„λΉ„μ¤κ°€ μ •μƒμ μΌλ΅ μ‚΄μ•„μ„ λ™μ‘ν•λ”μ§€λ¥Ό κ²€μ‚¬ν•λ” κ²ƒμ΄ λ§¤μ° μ¤‘μ”ν•©λ‹λ‹¤.\nμ΄λ¥Ό μ„ν•΄μ„ κ° μ„λΉ„μ¤μ— μƒμ΅΄ μ—¬λ¶€(liveness)μ™€ κ°€μ© μ—¬λ¶€(readiness)λ¥Ό μ‘λ‹µν•΄μ£Όλ” HTTP μ•¤λ“ν¬μΈνΈ(endpoint)κ°€ ν•„μ”ν•κΈ° λ§λ ¨μΈλ°μ”.</p>\n<p>μ΄λ² ν¬μ¤ν…μ—μ„λ” NestJS μ•±μ—μ„ μ΄λ¬ν• μ•¤λ“ν¬μΈνΈ(endpoint)λ¥Ό μ–΄λ–»κ² κµ¬ν„ν•  μ μλ”μ§€μ— λ€ν•΄μ„ μ•μ•„λ³΄λ„λ΅ ν•κ² μµλ‹λ‹¤.</p>\n<h2 id=\"μ‹¤μµ-ν”„λ΅μ νΈ-κµ¬μ„±\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%EC%8A%B5-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B5%AC%EC%84%B1\" aria-label=\"μ‹¤μµ ν”„λ΅μ νΈ κµ¬μ„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>μ‹¤μµ ν”„λ΅μ νΈ κµ¬μ„±</h2>\n<p>λ¨Όμ € κ°„λ‹¨ν• μ‹¤μµμ„ μ„ν•΄μ„ NestJS ν”„λ΅μ νΈκ°€ ν•λ‚ ν•„μ”ν•  κ²ƒ κ°™μ€λ°μ”.\nν„°λ―Έλ„μ—μ„ NestJS CLI λ„κµ¬μ <code>nest new</code> λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•μ—¬ μƒλ΅μ΄ ν”„λ΅μ νΈλ¥Ό κµ¬μ„±ν•λ„λ΅ ν•κ² μµλ‹λ‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ nest new our-nestjs\nβ΅  We will scaffold your app <span class=\"token keyword\">in</span> a few seconds<span class=\"token punctuation\">..</span>\n\n? Which package manager would you β¤οΈ  to use? <span class=\"token punctuation\">(</span>Use arrow keys<span class=\"token punctuation\">)</span>\nβ― <span class=\"token function\">npm</span>\n  <span class=\"token function\">yarn</span>\n  <span class=\"token function\">pnpm</span></code></pre></div>\n<blockquote>\n<p>NestJS CLIλ¥Ό μ„¤μΉν•κ³  NestJS ν”„λ΅μ νΈλ¥Ό κµ¬μ„±ν•λ” κΈ°λ³Έμ μΈ λ°©λ²•μ€ <a href=\"/nestjs/\">κ΄€λ ¨ ν¬μ¤ν…</a>μ„ μ°Έκ³  λ°”λλ‹λ‹¤.</p>\n</blockquote>\n<h2 id=\"liveness-μ•¤λ“ν¬μΈνΈ-κµ¬ν„\" style=\"position:relative;\"><a href=\"#liveness-%EC%95%A4%EB%93%9C%ED%8F%AC%EC%9D%B8%ED%8A%B8-%EA%B5%AC%ED%98%84\" aria-label=\"liveness μ•¤λ“ν¬μΈνΈ κµ¬ν„ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>liveness μ•¤λ“ν¬μΈνΈ κµ¬ν„</h2>\n<p>λ¨Όμ € λ‹¨μν μ„λΉ„μ¤κ°€ μ‚΄μ•„μλ”μ§€ μ£½μ—λ”μ§€λ¥Ό μ¬λΉ λ¥΄κ² ν™•μΈν•κΈ° μ„ν•΄μ„ μ‚¬μ©ν•λ” liveness μ•¤λ“ν¬μΈνΈ(endpoint)λ¥Ό κµ¬ν„ν•΄λ³ΌκΉμ”?</p>\n<p>μ£Όλ΅ AWS ELBμ™€ κ°™μ€ λ΅λ“ λ°Έλ°μ„(load balancer)λ‚ μΏ λ²„λ„¤ν‹°μ¤(Kubernetes)μ™€ μ»¨ν…μ΄λ„ κ΄€λ¦¬ ν”λ«νΌμ΄ μ΄λ¬ν• μ•¤λ“ν¬μΈνΈλ¥Ό μ£ΌκΈ°μ μΌλ΅ μ°”λ¬λ³΄λ©΄μ„ μ„λΉ„μ¤μ μƒμ΅΄μ—¬λ¶€λ¥Ό λ¨λ‹ν„°λ§ν•κ² λ©λ‹λ‹¤.</p>\n<p>μ°μ„  NestJS CLI λ„κµ¬λ΅ <code>health</code> λ¨λ“μ„ μƒμ„±ν• ν›„, <code>health</code> μ»¨νΈλ΅¤λ¬λ„ μƒμ„±ν•κ² μµλ‹λ‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ nest generate module health\nCREATE src/health/health.module.ts <span class=\"token punctuation\">(</span><span class=\"token number\">83</span> bytes<span class=\"token punctuation\">)</span>\nUPDATE src/app.module.ts <span class=\"token punctuation\">(</span><span class=\"token number\">315</span> bytes<span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ nest generate controller health\nCREATE src/health/health.controller.spec.ts <span class=\"token punctuation\">(</span><span class=\"token number\">492</span> bytes<span class=\"token punctuation\">)</span>\nCREATE src/health/health.controller.ts <span class=\"token punctuation\">(</span><span class=\"token number\">101</span> bytes<span class=\"token punctuation\">)</span>\nUPDATE src/health/health.module.ts <span class=\"token punctuation\">(</span><span class=\"token number\">174</span> bytes<span class=\"token punctuation\">)</span></code></pre></div>\n<p><code>health</code> μ»¨νΈλ΅¤λ¬ κµ¬ν„μ€ λ§¤μ° λ‹¨μν•©λ‹λ‹¤.\nμ‘λ‹µ μƒνƒκ°€ ν•­μƒ <code>200 OK</code>κ°€ λμ–΄μ•Ό ν•λ©°, μ‚¬λμ΄ μ§μ ‘ ν™•μΈν•λ” μ©λ„κ°€ μ•„λ‹λ―€λ΅ μ‘λ‹µ μ „λ¬Έμ€ κ·Έλ‹¥ μ¤‘μ”ν•μ§€ μ•μµλ‹λ‹¤.\n<code>GET /health</code>λ΅ μ”μ²­μ΄ λ“¤μ–΄μ¤λ©΄ <code>checkHealth()</code> λ©”μ„λ“κ°€ μ²λ¦¬ν•λ„λ΅ μ½”λ“λ¥Ό μ‘μ„±ν•κ² μµλ‹λ‹¤.</p>\n<div class=\"gatsby-code-title\">src/health/health.controller.ts</div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Controller<span class=\"token punctuation\">,</span> Get <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/common\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Controller</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HealthController</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Get</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"health\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">checkHealth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"OK\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>μ΄μ  ν„°λ―Έλ„μ—μ„ <code>curl</code> λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•μ—¬ μ‘μ„±ν• μ•¤λ“ν¬μΈνΈλ¥Ό νΈμ¶ν•΄λ³΄λ©΄ μμƒν–λ μ‘λ‹µμ΄ λμ•„μµλ‹λ‹¤.</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">curl</span> http://localhost:3000/health -i\n<span class=\"gatsby-highlight-code-line\">HTTP/1.1 <span class=\"token number\">200</span> OK</span>X-Powered-By: Express\nContent-Type: text/html<span class=\"token punctuation\">;</span> <span class=\"token assign-left variable\">charset</span><span class=\"token operator\">=</span>utf-8\nContent-Length: <span class=\"token number\">2</span>\nETag: W/<span class=\"token string\">\"2-nOO9QiTIwXgNtWtBJezz8kv3SLc\"</span>\nDate: Mon, <span class=\"token number\">20</span> Feb <span class=\"token number\">2023</span> <span class=\"token number\">21</span>:36:32 GMT\nConnection: keep-alive\nKeep-Alive: <span class=\"token assign-left variable\">timeout</span><span class=\"token operator\">=</span><span class=\"token number\">5</span>\n\n<span class=\"gatsby-highlight-code-line\">OK</span></code></pre></div>\n<h2 id=\"readiness-μ•¤λ“ν¬μΈνΈ-κµ¬ν„---λ©”λ¨λ¦¬-κ²€μ‚¬\" style=\"position:relative;\"><a href=\"#readiness-%EC%95%A4%EB%93%9C%ED%8F%AC%EC%9D%B8%ED%8A%B8-%EA%B5%AC%ED%98%84---%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B2%80%EC%82%AC\" aria-label=\"readiness μ•¤λ“ν¬μΈνΈ κµ¬ν„   λ©”λ¨λ¦¬ κ²€μ‚¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>readiness μ•¤λ“ν¬μΈνΈ κµ¬ν„ - λ©”λ¨λ¦¬ κ²€μ‚¬</h2>\n<p>λ‹¤μμΌλ΅ μ„λΉ„μ¤κ°€ μ‚΄μ•„μμ„ λΏλ§ μ•„λ‹λΌ μ •μƒμ μΌλ΅ μ”μ²­μ„ μ²λ¦¬ν•  μ μλ” μƒνƒμΈμ§€λ¥Ό ν™•μΈν•  λ• μ‚¬μ©ν•λ” readiness μ•¤λ“ν¬μΈνΈ(endpoint)λ¥Ό μ‘μ„±ν•΄λ³΄κ² μµλ‹λ‹¤.</p>\n<p>NestJSμ—μ„λ” μΆ€ λ” μ‰½κ² μ΄λ¬ν• μ•¤λ“ν¬μΈνΈλ¥Ό κµ¬ν„ν•  μ μλ„λ΅ <code>@nestjs/terminus</code>λΌλ” ν¨ν‚¤μ§€λ¥Ό μ κ³µν•κ³  μλ”λ°μ”.\nμ΄ ν¨ν‚¤μ§€λ¥Ό μ΄μ©ν•λ©΄ ν•λ“μ›¨μ–΄ μ‚¬μ©λ‰μ΄λ‚ μ™Έλ¶€ APIκ°€ μ •μƒμΈμ§€λ¥Ό μ†μ‰½κ² κ²€μ‚¬ν•  μ μμµλ‹λ‹¤.</p>\n<p>μ°μ„  μ‹¤μµ ν”„λ΅μ νΈμ— <code>@nestjs/terminus</code>λΌλ” npm ν¨ν‚¤μ§€λ¥Ό ν”„λ΅μ νΈμ— μ„¤μΉν•©λ‹λ‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> i @nestjs/terminus\n\nwarn preInstall No repository field\nβ” <span class=\"token punctuation\">[</span><span class=\"token number\">1</span>/4<span class=\"token punctuation\">]</span> π”  Resolving dependencies\nβ”” Completed <span class=\"token keyword\">in</span> <span class=\"token number\">7</span>.49s\nβ” <span class=\"token punctuation\">[</span><span class=\"token number\">2</span>/4<span class=\"token punctuation\">]</span> π  Fetching dependencies\nβ”‚ info pruneDeps Excluding <span class=\"token number\">1</span> dependency. For\nβ”‚ <span class=\"token function\">more</span> information use <span class=\"token variable\"><span class=\"token variable\">`</span>--verbose<span class=\"token variable\">`</span></span><span class=\"token builtin class-name\">.</span>\nβ”” Completed <span class=\"token keyword\">in</span> <span class=\"token number\">11</span>.68s\nβ” <span class=\"token punctuation\">[</span><span class=\"token number\">3</span>/4<span class=\"token punctuation\">]</span> π”—  Linking dependencies\nβ”” Completed <span class=\"token keyword\">in</span> <span class=\"token number\">13</span>.773s\ninfo security We found <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">install</span><span class=\"token variable\">`</span></span> scripts <span class=\"token function\">which</span>\nturbo skips <span class=\"token keyword\">for</span> security reasons. For <span class=\"token function\">more</span>\ninformation see\nhttps://turbo.sh/install-scripts.\nβ””β”€ @nestjs/core@9.3.9\n\nsuccess Saved lockfile <span class=\"token string\">\"package-lock.json\"</span>\nsuccess Updated <span class=\"token string\">\"package.json\"</span>\n\nsuccess Install finished <span class=\"token keyword\">in</span> <span class=\"token number\">33</span>.014s</code></pre></div>\n<p>κ·Έλ¦¬κ³  <code>health</code> λ¨λ“μ—μ„ <code>@nestjs/terminus</code> ν¨ν‚¤μ§€μ <code>TerminusModule</code>λ¥Ό λ¶λ¬μ¤κ² μµλ‹λ‹¤.</p>\n<div class=\"gatsby-code-title\">src/health/health.module.ts</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Module <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/common\"</span><span class=\"token punctuation\">;</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> TerminusModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/terminus\"</span><span class=\"token punctuation\">;</span></span><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> HealthController <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./health.controller\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Module</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">  imports<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>TerminusModule<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></span>  controllers<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>HealthController<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HealthModule</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>μ΄μ  ν™(heap) λ©”λ¨λ¦¬ μ‚¬μ©λ‰μ΄ 300MBκ°€ λ„μ–΄κ°€λ”μ§€λ¥Ό κ²€μ‚¬ν•λ„λ΅ readiness μ•¤λ“ν¬μΈνΈ(endpoint)λ¥Ό κµ¬ν„ν•΄λ³ΌκΉμ”?\n<code>GET /status</code>λ΅ μ”μ²­μ΄ λ“¤μ–΄μ¤λ©΄, <code>checkStatus()</code> λ©”μ„λ“κ°€ μ²λ¦¬ν•λ„λ΅ μ½”λ“λ¥Ό μ‘μ„±ν•κ² μµλ‹λ‹¤.\n<code>checkStatus()</code> λ©”μ„λ“μ—λ” <code>@HealthCheck()</code> μ–΄λ…Έν…μ΄μ…μ„ λ¶™μ—¬μ¤μ•Όν•©λ‹λ‹¤.</p>\n<div class=\"gatsby-code-title\">src/health/health.controller.ts</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Controller<span class=\"token punctuation\">,</span> Get <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/common\"</span><span class=\"token punctuation\">;</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">  HealthCheck<span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">  HealthCheckService<span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">  MemoryHealthIndicator<span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/terminus\"</span><span class=\"token punctuation\">;</span></span>\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Controller</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HealthController</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> health<span class=\"token operator\">:</span> HealthCheckService<span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> memory<span class=\"token operator\">:</span> MemoryHealthIndicator</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Get</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"health\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">checkHealth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"OK\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Get</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"status\"</span><span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">HealthCheck</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token function\">checkStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>health<span class=\"token punctuation\">.</span><span class=\"token function\">check</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>memory<span class=\"token punctuation\">.</span><span class=\"token function\">checkHeap</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"memory_heap\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">300</span> <span class=\"token operator\">*</span> <span class=\"token number\">1024</span> <span class=\"token operator\">*</span> <span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">}</span></code></pre></div>\n<p><code>@nestjs/terminus</code> ν¨ν‚¤μ§€μ—μ„ μ κ³µν•λ” <code>MemoryHealthIndicator</code>λ¥Ό μ‚¬μ©ν•μ—¬ μ΄μ²λΌ μ•„μ£Ό μ§§μ€ μ½”λ“λ΅ λ©”λ¨λ¦¬ μ‚¬μ©λ‰μ„ κ²€μ‚¬ν•  μ μμµλ‹λ‹¤.</p>\n<p>μ¶”κ°€ν• μ•¤λ“ν¬μΈνΈ(endpoint) νΈμ¶ν•΄λ³΄λ©΄ <code>200 OK</code> μ‘λ‹µ μƒνƒμ™€ ν•¨κ» λ©”λ¨λ¦¬ κ²€μ‚¬ κ²°κ³Όκ°€ JSON ν•νƒλ΅ μ‘λ‹µμ΄ λ  κ²ƒμ…λ‹λ‹¤.</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> http://localhost:3000/status -i\n<span class=\"gatsby-highlight-code-line\">HTTP/1.1 <span class=\"token number\">200</span> OK</span>X-Powered-By: Express\nContent-Type: application/json<span class=\"token punctuation\">;</span> <span class=\"token assign-left variable\">charset</span><span class=\"token operator\">=</span>utf-8\nContent-Length: <span class=\"token number\">107</span>\nETag: W/<span class=\"token string\">\"6b-ouXVoNOXyOxnMfI7caewF8/p97A\"</span>\nDate: Mon, <span class=\"token number\">20</span> Feb <span class=\"token number\">2023</span> <span class=\"token number\">21</span>:51:46 GMT\nConnection: keep-alive\nKeep-Alive: <span class=\"token assign-left variable\">timeout</span><span class=\"token operator\">=</span><span class=\"token number\">5</span>\n\n<span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"ok\"</span>,</span>  <span class=\"token string\">\"info\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"memory_heap\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"up\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>,\n  <span class=\"token string\">\"error\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n  <span class=\"token string\">\"details\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"memory_heap\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"up\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"statusreadiness-μ•¤λ“ν¬μΈνΈ-κµ¬ν„---api-κ²€μ‚¬\" style=\"position:relative;\"><a href=\"#statusreadiness-%EC%95%A4%EB%93%9C%ED%8F%AC%EC%9D%B8%ED%8A%B8-%EA%B5%AC%ED%98%84---api-%EA%B2%80%EC%82%AC\" aria-label=\"statusreadiness μ•¤λ“ν¬μΈνΈ κµ¬ν„   api κ²€μ‚¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>status(readiness) μ•¤λ“ν¬μΈνΈ κµ¬ν„ - API κ²€μ‚¬</h2>\n<p>λ‚΄λ¶€μ μΌλ΅ λ‹¤λ¥Έ APIμ— μμ΅΄ν•λ” μ„λΉ„μ¤μ κ²½μ° μ›κ²© νΈμ¶ν•΄μ•Όν•λ” APIμ μƒνƒλ„ ν™•μΈν•λ” κ²ƒμ΄ μΆ‹μµλ‹λ‹¤.\nμ™Έλ¶€ APIμ— μ¥μ• κ°€ μλ‹¤λ©΄ ν•΄λ‹Ή μ„λΉ„μ¤ μμ²΄μ μΌλ΅λ” μ•„λ¬΄ λ¬Έμ κ°€ μ—†λ”λΌλ„ μ •μƒμ μΌλ΅ μ”μ²­μ„ μ²λ¦¬ν•  μ μλ” μƒνƒλΌκ³  λ³΄κΈ° μ–΄λ µκΈ° λ•λ¬Έμ΄μ£ .</p>\n<p>μ΄λ΄ λ•λ” <code>@nestjs/terminus</code> ν¨ν‚¤μ§€μ—μ„ μ κ³µν•λ” <code>HttpHealthIndicator</code>λ¥Ό μ‚¬μ©ν•μ—¬ μ™Έλ¶€ APIκ°€ μ ‘μ†μ΄ κ°€λ¥ν•μ§€ ν™•μΈν•΄λ³Ό μ μλ”λ°μ”.\nμ΄λ¥Ό μ„ν•΄μ„λ” HTTP ν΄λΌμ΄μ–ΈνΈκ°€ λμ„ ν•΄λ‹Ή APIλ¥Ό μ›κ²©μΌλ΅ νΈμ¶ν•΄μ•Όν• ν•λ―€λ΅ <code>axios</code>μ™€ <code>@nestjs/axios</code> ν¨ν‚¤μ§€λ¥Ό μ„¤μΉν•΄μ•Όν•©λ‹λ‹¤.\n(μ‚¬μ‹¤ μ™Έλ¶€ APIλ¥Ό νΈμ¶ν•κ³  μλ‹¤λ©΄ μ΄λ―Έ ν•΄λ‹Ή ν”„λ΅μ νΈμ— μ„¤μΉλμ–΄μμ„ ν™•λ¥ μ΄ λ§¤μ° λ†’κ² μ£ ?)</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> i axios @nestjs/axios\nwarn preInstall No repository field\nβ” <span class=\"token punctuation\">[</span><span class=\"token number\">1</span>/4<span class=\"token punctuation\">]</span> π”  Resolving dependencies\nβ”” Completed <span class=\"token keyword\">in</span> <span class=\"token number\">5</span>.961s\nβ” <span class=\"token punctuation\">[</span><span class=\"token number\">2</span>/4<span class=\"token punctuation\">]</span> π  Fetching dependencies\nβ”‚ info pruneDeps Excluding <span class=\"token number\">1</span> dependency. For <span class=\"token function\">more</span>\nβ”‚ information use <span class=\"token variable\"><span class=\"token variable\">`</span>--verbose<span class=\"token variable\">`</span></span><span class=\"token builtin class-name\">.</span>\nβ”” Completed <span class=\"token keyword\">in</span> <span class=\"token number\">0</span>.016s\nβ” <span class=\"token punctuation\">[</span><span class=\"token number\">3</span>/4<span class=\"token punctuation\">]</span> π”—  Linking dependencies\nβ”” Completed <span class=\"token keyword\">in</span> <span class=\"token number\">0</span>.025s\ninfo security We found <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">install</span><span class=\"token variable\">`</span></span> scripts <span class=\"token function\">which</span> turbo\nskips <span class=\"token keyword\">for</span> security reasons. For <span class=\"token function\">more</span> information see\nhttps://turbo.sh/install-scripts.\nβ””β”€ @nestjs/core@9.3.9\n\nsuccess Saved lockfile <span class=\"token string\">\"package-lock.json\"</span>\nsuccess Updated <span class=\"token string\">\"package.json\"</span>\n\nsuccess Install finished <span class=\"token keyword\">in</span> <span class=\"token number\">6</span>.053s</code></pre></div>\n<p>κ·Έ λ‹¤μ <code>health</code> λ¨λ“μ—μ„ <code>@nestjs/terminus</code> ν¨ν‚¤μ§€μ <code>HttpModule</code>μ„ λ¶λ¬μ¤κ² μµλ‹λ‹¤.</p>\n<div class=\"gatsby-code-title\">src/health/health.module.ts</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Module <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/common\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> TerminusModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/terminus\"</span><span class=\"token punctuation\">;</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> HttpModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/axios\"</span><span class=\"token punctuation\">;</span></span><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> HealthController <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./health.controller\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Module</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">  imports<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>TerminusModule<span class=\"token punctuation\">,</span> HttpModule<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></span>  controllers<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>HealthController<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HealthModule</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>μ΄μ  <code>health</code> μ»¨νΈλ΅¤λ¬λ΅ λμ•„μ™€μ„ μƒμ„±μμ μΈμλ΅ <code>HttpHealthIndicator</code>μ„ μ¶”κ°€ν•κ³ , <code>checkStatus()</code> λ©”μ„λ“ λ‚΄μ—μ„ μ‚¬μ©ν•λ©΄ λ©λ‹λ‹¤.</p>\n<div class=\"gatsby-code-title\">src/health/health.controller.ts</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Controller<span class=\"token punctuation\">,</span> Get <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/common\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\n  HealthCheck<span class=\"token punctuation\">,</span>\n  HealthCheckService<span class=\"token punctuation\">,</span>\n  MemoryHealthIndicator<span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">  HttpHealthIndicator<span class=\"token punctuation\">,</span></span><span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/terminus\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Controller</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HealthController</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> health<span class=\"token operator\">:</span> HealthCheckService<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> memory<span class=\"token operator\">:</span> MemoryHealthIndicator<span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> http<span class=\"token operator\">:</span> HttpHealthIndicator</span>  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Get</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"health\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">checkHealth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"OK\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Get</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"status\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">HealthCheck</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">checkStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>health<span class=\"token punctuation\">.</span><span class=\"token function\">check</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>memory<span class=\"token punctuation\">.</span><span class=\"token function\">checkHeap</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"memory_heap\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">300</span> <span class=\"token operator\">*</span> <span class=\"token number\">1024</span> <span class=\"token operator\">*</span> <span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span><span class=\"token function\">pingCheck</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"other-api\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"http://localhost:3001\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></span>    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>λ‹¤μ‹ ν„°λ―Έλ„μ—μ„ readiness μ•¤λ“ν¬μΈνΈλ¥Ό νΈμ¶ν•΄λ³΄λ©΄ μ‘λ‹µ μ „λ¬Έμ— μ™Έλ¶€ API κ²€μ‚¬ κ²°κ³ΌκΉμ§€ μ¶”κ°€λκ³  <code>503 Service Unavailable</code> μƒνƒκ°€ μ‘λ‹µλ  κ²ƒμ…λ‹λ‹¤.\n<code>3001</code> ν¬νΈμ— μ•„λ¬΄ ν”„λ΅μ„Έμ¤λ„ λ„μ–΄λ…Ό κ²ƒμ΄ μ—†κΈ° λ•λ¬Έμ— λ‹Ήμ—°ν• κ²°κ³Όμ…λ‹λ‹¤.</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> http://localhost:3000/status -i\n<span class=\"gatsby-highlight-code-line\">HTTP/1.1 <span class=\"token number\">503</span> Service Unavailable</span>X-Powered-By: Express\nContent-Type: application/json<span class=\"token punctuation\">;</span> <span class=\"token assign-left variable\">charset</span><span class=\"token operator\">=</span>utf-8\nContent-Length: <span class=\"token number\">277</span>\nETag: W/<span class=\"token string\">\"115-HMPfu5KBHxhtl8RGFTFr8j39gCA\"</span>\nDate: Mon, <span class=\"token number\">20</span> Feb <span class=\"token number\">2023</span> <span class=\"token number\">22</span>:07:21 GMT\nConnection: keep-alive\nKeep-Alive: <span class=\"token assign-left variable\">timeout</span><span class=\"token operator\">=</span><span class=\"token number\">5</span>\n\n<span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"error\"</span>,</span>  <span class=\"token string\">\"info\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"memory_heap\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"up\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>,\n  <span class=\"token string\">\"error\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"other-api\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"down\"</span>,\n      <span class=\"token string\">\"message\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"connect ECONNREFUSED 127.0.0.1:3001\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>,\n  <span class=\"token string\">\"details\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"memory_heap\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"up\"</span> <span class=\"token punctuation\">}</span>,\n    <span class=\"token string\">\"other-api\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"down\"</span>,\n      <span class=\"token string\">\"message\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"connect ECONNREFUSED 127.0.0.1:3001\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"μ „μ²΄-μ½”λ“\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EC%B2%B4-%EC%BD%94%EB%93%9C\" aria-label=\"μ „μ²΄ μ½”λ“ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>μ „μ²΄ μ½”λ“</h2>\n<p>μ‹¤μµ ν”„λ΅μ νΈμ μ½”λ“λ” μ•„λμ—μ„ μ§μ ‘ ν™•μΈν•κ³  μ‹¤ν–‰ν•΄λ³Ό μ μμµλ‹λ‹¤.</p>\n<iframe src=\"https://stackblitz.com/edit/nestjs-health?ctl=1&embed=1&file=src/health/health.controller.ts\"\nstyle=\"width:100%; height:800px; border:0; border-radius: 4px; overflow:hidden;\"></iframe>\n<h2 id=\"λ§μΉλ©΄μ„\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B4%EC%84%9C\" aria-label=\"λ§μΉλ©΄μ„ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>λ§μΉλ©΄μ„</h2>\n<p>μ΄μƒμΌλ΅ κ°„λ‹¨ν• μ‹¤μµμ„ ν†µν•΄μ„ NestJS μ•±μ— μ„λΉ„μ¤ μƒμ΅΄ μ—¬λ¶€μ™€ κ°€μ© μ—¬λ¶€λ¥Ό ν™•μΈν•κΈ° μ„ν• μ•¤λ“ν¬μΈνΈλ¥Ό κµ¬ν„ν•΄λ³΄μ•μµλ‹λ‹¤.\nλ³Έ ν¬μ¤ν…μ—μ„λ” λ‹¤λ£¨μ§€ μ•μ•μ§€λ§ <code>@nestjs/terminus</code> ν¨ν‚¤μ§€μ—λ” λ””μ¤ν¬(disk) μ‚¬μ©λ‰κ³Ό κ°™μ€ λ‹¤λ¥Έ κ²€μ‚¬λ„ ν•  μ μμΌλ‹ μ°Έκ³  λ°”λΌκ² μµλ‹λ‹¤.</p>\n<p>liveness/readiness μ•¤λ“ν¬μΈνΈλ¥Ό μ ν™μ©ν•μ…”μ„ μ΄μν•μ‹λ” μ„λΉ„μ¤μ μ „λ°μ μΈ κ°€μ©μ„±(availability)μ„ ν–¥μƒμ‹ν‚¤κ³  ν•λ“μ›¨μ–΄ μμ›μ„ νƒ„λ ¥μ μΌλ΅ ν”„λ΅λΉ„μ €λ‹(provisioning)ν•λ”λ° λ„μ›€μ΄ λμ…¨μΌλ©΄ μΆ‹κ² μµλ‹λ‹¤.</p>","timeToRead":6,"fields":{"slug":"/nestjs-health/","tags":["NestJS","Node.js","framework","JavaScript","TypeScript","health"]},"frontmatter":{"title":"NestJSμ liveness/readiness μ•¤λ“ν¬μΈνΈ","date":"Feb 20, 2023"}},"next":{"fields":{"slug":"/react-checkboxes/"},"frontmatter":{"title":"Reactμ—μ„ μ²΄ν¬λ°•μ¤ μ‚¬μ©ν•κΈ°"}}}},"staticQueryHashes":["2168229929","2362167539","3056348342"]}