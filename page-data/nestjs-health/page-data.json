{
    "componentChunkName": "component---src-templates-detail-template-jsx",
    "path": "/nestjs-health/",
    "result": {"pageContext":{"previous":{"fields":{"slug":"/css-z-index/"},"frontmatter":{"title":"CSSì˜ z-index ì†ì„± ì´í•´í•˜ê¸°"}},"node":{"html":"<p>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤(microservices) ì•„í‚¤í…ì²˜ë‚˜ ë¶„ì‚° ì‹œìŠ¤í…œ í™˜ê²½ì—ì„œëŠ” ëª¨ë“  ì„œë¹„ìŠ¤ê°€ ì •ìƒì ìœ¼ë¡œ ì‚´ì•„ì„œ ë™ì‘í•˜ëŠ”ì§€ë¥¼ ê²€ì‚¬í•˜ëŠ” ê²ƒì´ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.\nì´ë¥¼ ìœ„í•´ì„œ ê° ì„œë¹„ìŠ¤ì— ìƒì¡´ ì—¬ë¶€(liveness)ì™€ ê°€ìš© ì—¬ë¶€(readiness)ë¥¼ ì‘ë‹µí•´ì£¼ëŠ” HTTP ì—”ë“œí¬ì¸íŠ¸(endpoint)ê°€ í•„ìš”í•˜ê¸° ë§ˆë ¨ì¸ë°ìš”.</p>\n<p>ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” NestJS ì•±ì—ì„œ ì´ëŸ¬í•œ ì—”ë“œí¬ì¸íŠ¸(endpoint)ë¥¼ ì–´ë–»ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<h2 id=\"ì‹¤ìŠµ-í”„ë¡œì íŠ¸-êµ¬ì„±\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%EC%8A%B5-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B5%AC%EC%84%B1\" aria-label=\"ì‹¤ìŠµ í”„ë¡œì íŠ¸ êµ¬ì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì‹¤ìŠµ í”„ë¡œì íŠ¸ êµ¬ì„±</h2>\n<p>ë¨¼ì € ê°„ë‹¨í•œ ì‹¤ìŠµì„ ìœ„í•´ì„œ NestJS í”„ë¡œì íŠ¸ê°€ í•˜ë‚˜ í•„ìš”í•  ê²ƒ ê°™ì€ë°ìš”.\ní„°ë¯¸ë„ì—ì„œ NestJS CLI ë„êµ¬ì˜ <code>nest new</code> ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ êµ¬ì„±í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ nest new our-nestjs\nâš¡  We will scaffold your app <span class=\"token keyword\">in</span> a few seconds<span class=\"token punctuation\">..</span>\n\n? Which package manager would you â¤ï¸  to use? <span class=\"token punctuation\">(</span>Use arrow keys<span class=\"token punctuation\">)</span>\nâ¯ <span class=\"token function\">npm</span>\n  <span class=\"token function\">yarn</span>\n  <span class=\"token function\">pnpm</span></code></pre></div>\n<blockquote>\n<p>NestJS CLIë¥¼ ì„¤ì¹˜í•˜ê³  NestJS í”„ë¡œì íŠ¸ë¥¼ êµ¬ì„±í•˜ëŠ” ê¸°ë³¸ì ì¸ ë°©ë²•ì€ <a href=\"/nestjs/\">ê´€ë ¨ í¬ìŠ¤íŒ…</a>ì„ ì°¸ê³  ë°”ëë‹ˆë‹¤.</p>\n</blockquote>\n<h2 id=\"liveness-ì—”ë“œí¬ì¸íŠ¸-êµ¬í˜„\" style=\"position:relative;\"><a href=\"#liveness-%EC%97%94%EB%93%9C%ED%8F%AC%EC%9D%B8%ED%8A%B8-%EA%B5%AC%ED%98%84\" aria-label=\"liveness ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>liveness ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„</h2>\n<p>ë¨¼ì € ë‹¨ìˆœíˆ ì„œë¹„ìŠ¤ê°€ ì‚´ì•„ìˆëŠ”ì§€ ì£½ì—ˆëŠ”ì§€ë¥¼ ì¬ë¹ ë¥´ê²Œ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©í•˜ëŠ” liveness ì—”ë“œí¬ì¸íŠ¸(endpoint)ë¥¼ êµ¬í˜„í•´ë³¼ê¹Œìš”?</p>\n<p>ì£¼ë¡œ AWS ELBì™€ ê°™ì€ ë¡œë“œ ë°¸ëŸ°ì„œ(load balancer)ë‚˜ ì¿ ë²„ë„¤í‹°ìŠ¤(Kubernetes)ì™€ ì»¨í…Œì´ë„ˆ ê´€ë¦¬ í”Œë«í¼ì´ ì´ëŸ¬í•œ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ì°”ëŸ¬ë³´ë©´ì„œ ì„œë¹„ìŠ¤ì˜ ìƒì¡´ì—¬ë¶€ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ê²Œ ë©ë‹ˆë‹¤.</p>\n<p>ìš°ì„  NestJS CLI ë„êµ¬ë¡œ <code>health</code> ëª¨ë“ˆì„ ìƒì„±í•œ í›„, <code>health</code> ì»¨íŠ¸ë¡¤ëŸ¬ë„ ìƒì„±í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ nest generate module health\nCREATE src/health/health.module.ts <span class=\"token punctuation\">(</span><span class=\"token number\">83</span> bytes<span class=\"token punctuation\">)</span>\nUPDATE src/app.module.ts <span class=\"token punctuation\">(</span><span class=\"token number\">315</span> bytes<span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ nest generate controller health\nCREATE src/health/health.controller.spec.ts <span class=\"token punctuation\">(</span><span class=\"token number\">492</span> bytes<span class=\"token punctuation\">)</span>\nCREATE src/health/health.controller.ts <span class=\"token punctuation\">(</span><span class=\"token number\">101</span> bytes<span class=\"token punctuation\">)</span>\nUPDATE src/health/health.module.ts <span class=\"token punctuation\">(</span><span class=\"token number\">174</span> bytes<span class=\"token punctuation\">)</span></code></pre></div>\n<p><code>health</code> ì»¨íŠ¸ë¡¤ëŸ¬ êµ¬í˜„ì€ ë§¤ìš° ë‹¨ìˆœí•©ë‹ˆë‹¤.\nì‘ë‹µ ìƒíƒœê°€ í•­ìƒ <code>200 OK</code>ê°€ ë˜ì–´ì•¼ í•˜ë©°, ì‚¬ëŒì´ ì§ì ‘ í™•ì¸í•˜ëŠ” ìš©ë„ê°€ ì•„ë‹ˆë¯€ë¡œ ì‘ë‹µ ì „ë¬¸ì€ ê·¸ë‹¥ ì¤‘ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n<code>GET /health</code>ë¡œ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ <code>checkHealth()</code> ë©”ì„œë“œê°€ ì²˜ë¦¬í•˜ë„ë¡ ì½”ë“œë¥¼ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-code-title\">src/health/health.controller.ts</div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Controller<span class=\"token punctuation\">,</span> Get <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/common\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Controller</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HealthController</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Get</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"health\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">checkHealth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"OK\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ì œ í„°ë¯¸ë„ì—ì„œ <code>curl</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ì„±í•œ ì—”ë“œí¬ì¸íŠ¸ë¥¼ í˜¸ì¶œí•´ë³´ë©´ ì˜ˆìƒí–ˆë˜ ì‘ë‹µì´ ëŒì•„ì˜µë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">curl</span> http://localhost:3000/health <span class=\"token parameter variable\">-i</span>\n<span class=\"gatsby-highlight-code-line\">HTTP/1.1 <span class=\"token number\">200</span> OK</span>X-Powered-By: Express\nContent-Type: text/html<span class=\"token punctuation\">;</span> <span class=\"token assign-left variable\">charset</span><span class=\"token operator\">=</span>utf-8\nContent-Length: <span class=\"token number\">2</span>\nETag: W/<span class=\"token string\">\"2-nOO9QiTIwXgNtWtBJezz8kv3SLc\"</span>\nDate: Mon, <span class=\"token number\">20</span> Feb <span class=\"token number\">2023</span> <span class=\"token number\">21</span>:36:32 GMT\nConnection: keep-alive\nKeep-Alive: <span class=\"token assign-left variable\">timeout</span><span class=\"token operator\">=</span><span class=\"token number\">5</span>\n\n<span class=\"gatsby-highlight-code-line\">OK</span></code></pre></div>\n<h2 id=\"readiness-ì—”ë“œí¬ì¸íŠ¸-êµ¬í˜„---ë©”ëª¨ë¦¬-ê²€ì‚¬\" style=\"position:relative;\"><a href=\"#readiness-%EC%97%94%EB%93%9C%ED%8F%AC%EC%9D%B8%ED%8A%B8-%EA%B5%AC%ED%98%84---%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B2%80%EC%82%AC\" aria-label=\"readiness ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„   ë©”ëª¨ë¦¬ ê²€ì‚¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>readiness ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ - ë©”ëª¨ë¦¬ ê²€ì‚¬</h2>\n<p>ë‹¤ìŒìœ¼ë¡œ ì„œë¹„ìŠ¤ê°€ ì‚´ì•„ìˆì„ ë¿ë§Œ ì•„ë‹ˆë¼ ì •ìƒì ìœ¼ë¡œ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ìƒíƒœì¸ì§€ë¥¼ í™•ì¸í•  ë•Œ ì‚¬ìš©í•˜ëŠ” readiness ì—”ë“œí¬ì¸íŠ¸(endpoint)ë¥¼ ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<p>NestJSì—ì„œëŠ” ì¢€ ë” ì‰½ê²Œ ì´ëŸ¬í•œ ì—”ë“œí¬ì¸íŠ¸ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë„ë¡ <code>@nestjs/terminus</code>ë¼ëŠ” íŒ¨í‚¤ì§€ë¥¼ ì œê³µí•˜ê³  ìˆëŠ”ë°ìš”.\nì´ íŒ¨í‚¤ì§€ë¥¼ ì´ìš©í•˜ë©´ í•˜ë“œì›¨ì–´ ì‚¬ìš©ëŸ‰ì´ë‚˜ ì™¸ë¶€ APIê°€ ì •ìƒì¸ì§€ë¥¼ ì†ì‰½ê²Œ ê²€ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ìš°ì„  ì‹¤ìŠµ í”„ë¡œì íŠ¸ì— <code>@nestjs/terminus</code>ë¼ëŠ” npm íŒ¨í‚¤ì§€ë¥¼ í”„ë¡œì íŠ¸ì— ì„¤ì¹˜í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> i @nestjs/terminus\n\nwarn preInstall No repository field\nâ”Œ <span class=\"token punctuation\">[</span><span class=\"token number\">1</span>/4<span class=\"token punctuation\">]</span> ğŸ”  Resolving dependencies\nâ”” Completed <span class=\"token keyword\">in</span> <span class=\"token number\">7</span>.49s\nâ”Œ <span class=\"token punctuation\">[</span><span class=\"token number\">2</span>/4<span class=\"token punctuation\">]</span> ğŸšš  Fetching dependencies\nâ”‚ info pruneDeps Excluding <span class=\"token number\">1</span> dependency. For\nâ”‚ <span class=\"token function\">more</span> information use <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token parameter variable\">--verbose</span><span class=\"token variable\">`</span></span><span class=\"token builtin class-name\">.</span>\nâ”” Completed <span class=\"token keyword\">in</span> <span class=\"token number\">11</span>.68s\nâ”Œ <span class=\"token punctuation\">[</span><span class=\"token number\">3</span>/4<span class=\"token punctuation\">]</span> ğŸ”—  Linking dependencies\nâ”” Completed <span class=\"token keyword\">in</span> <span class=\"token number\">13</span>.773s\ninfo security We found <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">install</span><span class=\"token variable\">`</span></span> scripts <span class=\"token function\">which</span>\nturbo skips <span class=\"token keyword\">for</span> security reasons. For <span class=\"token function\">more</span>\ninformation see\nhttps://turbo.sh/install-scripts.\nâ””â”€ @nestjs/core@9.3.9\n\nsuccess Saved lockfile <span class=\"token string\">\"package-lock.json\"</span>\nsuccess Updated <span class=\"token string\">\"package.json\"</span>\n\nsuccess Install finished <span class=\"token keyword\">in</span> <span class=\"token number\">33</span>.014s</code></pre></div>\n<p>ê·¸ë¦¬ê³  <code>health</code> ëª¨ë“ˆì—ì„œ <code>@nestjs/terminus</code> íŒ¨í‚¤ì§€ì˜ <code>TerminusModule</code>ë¥¼ ë¶ˆëŸ¬ì˜¤ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-code-title\">src/health/health.module.ts</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Module <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/common\"</span><span class=\"token punctuation\">;</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> TerminusModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/terminus\"</span><span class=\"token punctuation\">;</span></span><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> HealthController <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./health.controller\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Module</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">  imports<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>TerminusModule<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></span>  controllers<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>HealthController<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HealthModule</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ì œ í™(heap) ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ 300MBê°€ ë„˜ì–´ê°€ëŠ”ì§€ë¥¼ ê²€ì‚¬í•˜ë„ë¡ readiness ì—”ë“œí¬ì¸íŠ¸(endpoint)ë¥¼ êµ¬í˜„í•´ë³¼ê¹Œìš”?\n<code>GET /status</code>ë¡œ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´, <code>checkStatus()</code> ë©”ì„œë“œê°€ ì²˜ë¦¬í•˜ë„ë¡ ì½”ë“œë¥¼ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.\n<code>checkStatus()</code> ë©”ì„œë“œì—ëŠ” <code>@HealthCheck()</code> ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì¤˜ì•¼í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-code-title\">src/health/health.controller.ts</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Controller<span class=\"token punctuation\">,</span> Get <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/common\"</span><span class=\"token punctuation\">;</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">  HealthCheck<span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">  HealthCheckService<span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">  MemoryHealthIndicator<span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/terminus\"</span><span class=\"token punctuation\">;</span></span>\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Controller</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HealthController</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> health<span class=\"token operator\">:</span> HealthCheckService<span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> memory<span class=\"token operator\">:</span> MemoryHealthIndicator</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Get</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"health\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">checkHealth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"OK\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Get</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"status\"</span><span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">HealthCheck</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token function\">checkStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>health<span class=\"token punctuation\">.</span><span class=\"token function\">check</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>memory<span class=\"token punctuation\">.</span><span class=\"token function\">checkHeap</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"memory_heap\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">300</span> <span class=\"token operator\">*</span> <span class=\"token number\">1024</span> <span class=\"token operator\">*</span> <span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">}</span></code></pre></div>\n<p><code>@nestjs/terminus</code> íŒ¨í‚¤ì§€ì—ì„œ ì œê³µí•˜ëŠ” <code>MemoryHealthIndicator</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ì²˜ëŸ¼ ì•„ì£¼ ì§§ì€ ì½”ë“œë¡œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ê²€ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ì¶”ê°€í•œ ì—”ë“œí¬ì¸íŠ¸(endpoint) í˜¸ì¶œí•´ë³´ë©´ <code>200 OK</code> ì‘ë‹µ ìƒíƒœì™€ í•¨ê»˜ ë©”ëª¨ë¦¬ ê²€ì‚¬ ê²°ê³¼ê°€ JSON í˜•íƒœë¡œ ì‘ë‹µì´ ë  ê²ƒì…ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> http://localhost:3000/status <span class=\"token parameter variable\">-i</span>\n<span class=\"gatsby-highlight-code-line\">HTTP/1.1 <span class=\"token number\">200</span> OK</span>X-Powered-By: Express\nContent-Type: application/json<span class=\"token punctuation\">;</span> <span class=\"token assign-left variable\">charset</span><span class=\"token operator\">=</span>utf-8\nContent-Length: <span class=\"token number\">107</span>\nETag: W/<span class=\"token string\">\"6b-ouXVoNOXyOxnMfI7caewF8/p97A\"</span>\nDate: Mon, <span class=\"token number\">20</span> Feb <span class=\"token number\">2023</span> <span class=\"token number\">21</span>:51:46 GMT\nConnection: keep-alive\nKeep-Alive: <span class=\"token assign-left variable\">timeout</span><span class=\"token operator\">=</span><span class=\"token number\">5</span>\n\n<span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"ok\"</span>,</span>  <span class=\"token string\">\"info\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"memory_heap\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"up\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>,\n  <span class=\"token string\">\"error\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n  <span class=\"token string\">\"details\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"memory_heap\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"up\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"statusreadiness-ì—”ë“œí¬ì¸íŠ¸-êµ¬í˜„---api-ê²€ì‚¬\" style=\"position:relative;\"><a href=\"#statusreadiness-%EC%97%94%EB%93%9C%ED%8F%AC%EC%9D%B8%ED%8A%B8-%EA%B5%AC%ED%98%84---api-%EA%B2%80%EC%82%AC\" aria-label=\"statusreadiness ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„   api ê²€ì‚¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>status(readiness) ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ - API ê²€ì‚¬</h2>\n<p>ë‚´ë¶€ì ìœ¼ë¡œ ë‹¤ë¥¸ APIì— ì˜ì¡´í•˜ëŠ” ì„œë¹„ìŠ¤ì˜ ê²½ìš° ì›ê²© í˜¸ì¶œí•´ì•¼í•˜ëŠ” APIì˜ ìƒíƒœë„ í™•ì¸í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\nì™¸ë¶€ APIì— ì¥ì• ê°€ ìˆë‹¤ë©´ í•´ë‹¹ ì„œë¹„ìŠ¤ ìì²´ì ìœ¼ë¡œëŠ” ì•„ë¬´ ë¬¸ì œê°€ ì—†ë”ë¼ë„ ì •ìƒì ìœ¼ë¡œ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ìƒíƒœë¼ê³  ë³´ê¸° ì–´ë µê¸° ë•Œë¬¸ì´ì£ .</p>\n<p>ì´ëŸ´ ë•ŒëŠ” <code>@nestjs/terminus</code> íŒ¨í‚¤ì§€ì—ì„œ ì œê³µí•˜ëŠ” <code>HttpHealthIndicator</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì™¸ë¶€ APIê°€ ì ‘ì†ì´ ê°€ëŠ¥í•œì§€ í™•ì¸í•´ë³¼ ìˆ˜ ìˆëŠ”ë°ìš”.\nì´ë¥¼ ìœ„í•´ì„œëŠ” HTTP í´ë¼ì´ì–¸íŠ¸ê°€ ë˜ì„œ í•´ë‹¹ APIë¥¼ ì›ê²©ìœ¼ë¡œ í˜¸ì¶œí•´ì•¼í•˜ í•˜ë¯€ë¡œ <code>axios</code>ì™€ <code>@nestjs/axios</code> íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ì•¼í•©ë‹ˆë‹¤.\n(ì‚¬ì‹¤ ì™¸ë¶€ APIë¥¼ í˜¸ì¶œí•˜ê³  ìˆë‹¤ë©´ ì´ë¯¸ í•´ë‹¹ í”„ë¡œì íŠ¸ì— ì„¤ì¹˜ë˜ì–´ìˆì„ í™•ë¥ ì´ ë§¤ìš° ë†’ê² ì£ ?)</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> i axios @nestjs/axios\nwarn preInstall No repository field\nâ”Œ <span class=\"token punctuation\">[</span><span class=\"token number\">1</span>/4<span class=\"token punctuation\">]</span> ğŸ”  Resolving dependencies\nâ”” Completed <span class=\"token keyword\">in</span> <span class=\"token number\">5</span>.961s\nâ”Œ <span class=\"token punctuation\">[</span><span class=\"token number\">2</span>/4<span class=\"token punctuation\">]</span> ğŸšš  Fetching dependencies\nâ”‚ info pruneDeps Excluding <span class=\"token number\">1</span> dependency. For <span class=\"token function\">more</span>\nâ”‚ information use <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token parameter variable\">--verbose</span><span class=\"token variable\">`</span></span><span class=\"token builtin class-name\">.</span>\nâ”” Completed <span class=\"token keyword\">in</span> <span class=\"token number\">0</span>.016s\nâ”Œ <span class=\"token punctuation\">[</span><span class=\"token number\">3</span>/4<span class=\"token punctuation\">]</span> ğŸ”—  Linking dependencies\nâ”” Completed <span class=\"token keyword\">in</span> <span class=\"token number\">0</span>.025s\ninfo security We found <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">install</span><span class=\"token variable\">`</span></span> scripts <span class=\"token function\">which</span> turbo\nskips <span class=\"token keyword\">for</span> security reasons. For <span class=\"token function\">more</span> information see\nhttps://turbo.sh/install-scripts.\nâ””â”€ @nestjs/core@9.3.9\n\nsuccess Saved lockfile <span class=\"token string\">\"package-lock.json\"</span>\nsuccess Updated <span class=\"token string\">\"package.json\"</span>\n\nsuccess Install finished <span class=\"token keyword\">in</span> <span class=\"token number\">6</span>.053s</code></pre></div>\n<p>ê·¸ ë‹¤ìŒ <code>health</code> ëª¨ë“ˆì—ì„œ <code>@nestjs/terminus</code> íŒ¨í‚¤ì§€ì˜ <code>HttpModule</code>ì„ ë¶ˆëŸ¬ì˜¤ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-code-title\">src/health/health.module.ts</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Module <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/common\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> TerminusModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/terminus\"</span><span class=\"token punctuation\">;</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> HttpModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/axios\"</span><span class=\"token punctuation\">;</span></span><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> HealthController <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./health.controller\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Module</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">  imports<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>TerminusModule<span class=\"token punctuation\">,</span> HttpModule<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></span>  controllers<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>HealthController<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HealthModule</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ì œ <code>health</code> ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ëŒì•„ì™€ì„œ ìƒì„±ìì˜ ì¸ìë¡œ <code>HttpHealthIndicator</code>ì„ ì¶”ê°€í•˜ê³ , <code>checkStatus()</code> ë©”ì„œë“œ ë‚´ì—ì„œ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-code-title\">src/health/health.controller.ts</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Controller<span class=\"token punctuation\">,</span> Get <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/common\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\n  HealthCheck<span class=\"token punctuation\">,</span>\n  HealthCheckService<span class=\"token punctuation\">,</span>\n  MemoryHealthIndicator<span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">  HttpHealthIndicator<span class=\"token punctuation\">,</span></span><span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/terminus\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Controller</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HealthController</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> health<span class=\"token operator\">:</span> HealthCheckService<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> memory<span class=\"token operator\">:</span> MemoryHealthIndicator<span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> http<span class=\"token operator\">:</span> HttpHealthIndicator</span>  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Get</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"health\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">checkHealth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"OK\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Get</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"status\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">HealthCheck</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">checkStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>health<span class=\"token punctuation\">.</span><span class=\"token function\">check</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>memory<span class=\"token punctuation\">.</span><span class=\"token function\">checkHeap</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"memory_heap\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">300</span> <span class=\"token operator\">*</span> <span class=\"token number\">1024</span> <span class=\"token operator\">*</span> <span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span><span class=\"token function\">pingCheck</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"other-api\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"http://localhost:3001\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></span>    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ë‹¤ì‹œ í„°ë¯¸ë„ì—ì„œ readiness ì—”ë“œí¬ì¸íŠ¸ë¥¼ í˜¸ì¶œí•´ë³´ë©´ ì‘ë‹µ ì „ë¬¸ì— ì™¸ë¶€ API ê²€ì‚¬ ê²°ê³¼ê¹Œì§€ ì¶”ê°€ë˜ê³  <code>503 Service Unavailable</code> ìƒíƒœê°€ ì‘ë‹µë  ê²ƒì…ë‹ˆë‹¤.\n<code>3001</code> í¬íŠ¸ì— ì•„ë¬´ í”„ë¡œì„¸ìŠ¤ë„ ë„ì–´ë…¼ ê²ƒì´ ì—†ê¸° ë•Œë¬¸ì— ë‹¹ì—°í•œ ê²°ê³¼ì…ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> http://localhost:3000/status <span class=\"token parameter variable\">-i</span>\n<span class=\"gatsby-highlight-code-line\">HTTP/1.1 <span class=\"token number\">503</span> Service Unavailable</span>X-Powered-By: Express\nContent-Type: application/json<span class=\"token punctuation\">;</span> <span class=\"token assign-left variable\">charset</span><span class=\"token operator\">=</span>utf-8\nContent-Length: <span class=\"token number\">277</span>\nETag: W/<span class=\"token string\">\"115-HMPfu5KBHxhtl8RGFTFr8j39gCA\"</span>\nDate: Mon, <span class=\"token number\">20</span> Feb <span class=\"token number\">2023</span> <span class=\"token number\">22</span>:07:21 GMT\nConnection: keep-alive\nKeep-Alive: <span class=\"token assign-left variable\">timeout</span><span class=\"token operator\">=</span><span class=\"token number\">5</span>\n\n<span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"error\"</span>,</span>  <span class=\"token string\">\"info\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"memory_heap\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"up\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>,\n  <span class=\"token string\">\"error\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"other-api\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"down\"</span>,\n      <span class=\"token string\">\"message\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"connect ECONNREFUSED 127.0.0.1:3001\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>,\n  <span class=\"token string\">\"details\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"memory_heap\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"up\"</span> <span class=\"token punctuation\">}</span>,\n    <span class=\"token string\">\"other-api\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"down\"</span>,\n      <span class=\"token string\">\"message\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"connect ECONNREFUSED 127.0.0.1:3001\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"ì „ì²´-ì½”ë“œ\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EC%B2%B4-%EC%BD%94%EB%93%9C\" aria-label=\"ì „ì²´ ì½”ë“œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì „ì²´ ì½”ë“œ</h2>\n<p>ì‹¤ìŠµ í”„ë¡œì íŠ¸ì˜ ì½”ë“œëŠ” ì•„ë˜ì—ì„œ ì§ì ‘ í™•ì¸í•˜ê³  ì‹¤í–‰í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<iframe src=\"https://stackblitz.com/edit/nestjs-health?ctl=1&embed=1&file=src/health/health.controller.ts\"\nstyle=\"width:100%; height:800px; border:0; border-radius: 4px; overflow:hidden;\"></iframe>\n<h2 id=\"ë§ˆì¹˜ë©´ì„œ\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B4%EC%84%9C\" aria-label=\"ë§ˆì¹˜ë©´ì„œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆì¹˜ë©´ì„œ</h2>\n<p>ì´ìƒìœ¼ë¡œ ê°„ë‹¨í•œ ì‹¤ìŠµì„ í†µí•´ì„œ NestJS ì•±ì— ì„œë¹„ìŠ¤ ìƒì¡´ ì—¬ë¶€ì™€ ê°€ìš© ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•œ ì—”ë“œí¬ì¸íŠ¸ë¥¼ êµ¬í˜„í•´ë³´ì•˜ìŠµë‹ˆë‹¤.\në³¸ í¬ìŠ¤íŒ…ì—ì„œëŠ” ë‹¤ë£¨ì§€ ì•Šì•˜ì§€ë§Œ <code>@nestjs/terminus</code> íŒ¨í‚¤ì§€ì—ëŠ” ë””ìŠ¤í¬(disk) ì‚¬ìš©ëŸ‰ê³¼ ê°™ì€ ë‹¤ë¥¸ ê²€ì‚¬ë„ í•  ìˆ˜ ìˆìœ¼ë‹ˆ ì°¸ê³  ë°”ë¼ê² ìŠµë‹ˆë‹¤.</p>\n<p>liveness/readiness ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì˜ í™œìš©í•˜ì…”ì„œ ìš´ì˜í•˜ì‹œëŠ” ì„œë¹„ìŠ¤ì˜ ì „ë°˜ì ì¸ ê°€ìš©ì„±(availability)ì„ í–¥ìƒì‹œí‚¤ê³  í•˜ë“œì›¨ì–´ ìì›ì„ íƒ„ë ¥ì ìœ¼ë¡œ í”„ë¡œë¹„ì €ë‹(provisioning)í•˜ëŠ”ë° ë„ì›€ì´ ë˜ì…¨ìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.</p>\n<p>NestJSì— ê´€ë ¨ëœ ë‹¤ë¥¸ í¬ìŠ¤íŒ…ì€ <a href=\"/?tag=NestJS\">ê´€ë ¨ íƒœê·¸</a>ë¥¼ ì°¸ê³  ë°”ë¼ê² ìŠµë‹ˆë‹¤.</p>","timeToRead":7,"fields":{"slug":"/nestjs-health/","tags":["NestJS","Node.js","framework","JavaScript","TypeScript","health"]},"frontmatter":{"title":"NestJSì˜ liveness/readiness ì—”ë“œí¬ì¸íŠ¸","date":"Feb 20, 2023"}},"next":{"fields":{"slug":"/react-checkboxes/"},"frontmatter":{"title":"Reactì—ì„œ ì²´í¬ë°•ìŠ¤ ì‚¬ìš©í•˜ê¸°"}}}},
    "staticQueryHashes": ["2168229929","2362167539","3056348342"]}